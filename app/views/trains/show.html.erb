<p id="notice"><%= notice %></p>

<p>
  <strong>Number:</strong>
  <%= @train.number %>
</p>

<p>
  <strong>On station:</strong>
  <% if @train.current_station.present? %>
    <%= @train.current_station.title %>
  <% else %>
    No stations
  <% end %>
</p>

<table border="1">
  <tr>
    <th>Econom-class carriages count: </th>
    <td><%= Carriage.where(carriage_type: 'econom-class', train_id: @train.id ).size %></td>
    <td>top seats count </td>
    <td><%= Carriage.where(carriage_type: 'econom-class', train_id: @train.id ).sum(&:top_seats_count) %></td>
    <td>lower seats count </td>
    <td><%= Carriage.where(carriage_type: 'econom-class', train_id: @train.id ).sum(&:lower_seats_count) %></td>
  </tr>
  <tr>
    <th>Compartment carriages count: </th>
    <td><%= Carriage.where(carriage_type: 'compartment', train_id: @train.id ).size %></td>
    <td>top seats count </td>
    <td><%= Carriage.where(carriage_type: 'compartment', train_id: @train.id ).sum(&:top_seats_count) %></td>
    <td>lower seats count </td>
    <td><%= Carriage.where(carriage_type: 'compartment', train_id: @train.id ).sum(&:lower_seats_count) %></td>
  </tr>
</table>

<%= link_to 'Edit', edit_train_path(@train) %> |
<%= link_to 'Back', trains_path %>
